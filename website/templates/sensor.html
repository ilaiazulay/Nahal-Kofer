{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}
<br />
<h2>Water Level</h2>
<h1>Sensor Readings</h1>
<p>Distance: <span id="reading">{{ distance }} cm</span></p>

<script>
    async function updateSensorData() {
        try {
            const response = await fetch('/get_sensor_data');
            console.log(response);
            const data = await response.json();
            document.getElementById('reading').innerHTML = data.distance + ' cm';
        } catch (error) {
            console.error('Error fetching sensor data:', error);
        }
    }

    setInterval(updateSensorData, 1000);  // Update every second
</script>

{% endblock %}
